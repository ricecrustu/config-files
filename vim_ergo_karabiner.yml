---
title: Vim-Like Ergo Keys
rules:

################################################################
#                    Modified ergo fly key                     #
################################################################
- description: Ergo Keys STU
  manipulators:

# -------------------------b -> tab-------------------------- #
  # - type: basic
  #   from:
  #     key_code: b
  #     modifiers:
  #       optional:
  #       - any
  #   to:
  #   - key_code: tab
  #     modifiers: []
  #   conditions:
  #   - type: variable_if
  #     name: ergo_fly_keys_spacebar
  #     value: 1

  # - type: basic
  #   from:
  #     simultaneous:
  #     - key_code: spacebar
  #     - key_code: b
  #     simultaneous_options:
  #       key_down_order: strict
  #       key_up_order: strict_inverse
  #       detect_key_down_uninterruptedly: true
  #       to_after_key_up:
  #       - set_variable:
  #           name: ergo_fly_keys_spacebar
  #           value: 0
  #     modifiers:
  #       optional:
  #       - any
  #   to:
  #   - set_variable:
  #       name: ergo_fly_keys_spacebar
  #       value: 1
  #   - set_variable:
  #       name: DEBUG simultaneous
  #       value: 1
  #   - key_code: tab
  #     modifiers: []
  #   parameters:
  #     basic.simultaneous_threshold_milliseconds: 300

# -----------------------k to up arrow----------------------- #
  - type: basic
    from:
      key_code: k
      modifiers:
        optional:
        - any
    to:
    - key_code: up_arrow
      modifiers: []
    conditions:
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: k
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: up_arrow
      modifiers: []
    parameters:
      basic.simultaneous_threshold_milliseconds: 300

# -----------------------j to down arrow--------------------- #
  - type: basic
    from:
      key_code: j
      modifiers:
        optional:
        - any
    to:
    - key_code: down_arrow
      modifiers: []
    conditions:
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: j
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: down_arrow
      modifiers: []
    parameters:
      basic.simultaneous_threshold_milliseconds: 300

# -----------------------h to left arrow--------------------- #
  - type: basic
    from:
      key_code: h
      modifiers:
        optional:
        - any
    to:
    - key_code: left_arrow
      modifiers: []
    conditions:
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: h
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: left_arrow
      modifiers: []
    parameters:
      basic.simultaneous_threshold_milliseconds: 300

# -----------------------l to right arrow-------------------- #
  - type: basic
    from:
      key_code: l
      modifiers:
        optional:
        - any
    to:
    - key_code: right_arrow
      modifiers: []
    conditions:
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: l
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: right_arrow
      modifiers: []
    parameters:
      basic.simultaneous_threshold_milliseconds: 300

# -----------------------i to left option + left arrow--------------------- #
  - type: basic
    from:
      key_code: i
      modifiers:
        optional:
        - any
    to:
    - key_code: left_arrow
      modifiers:
      - left_option
    conditions:
    - type: frontmost_application_unless
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: i
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: left_arrow
      modifiers:
      - left_option
    parameters:
      basic.simultaneous_threshold_milliseconds: 300
    conditions:
    - type: frontmost_application_unless
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$

  - type: basic
    from:
      key_code: i
      modifiers:
        optional:
        - any
    to:
    - key_code: escape
    - key_code: b
    conditions:
    - type: frontmost_application_if
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: i
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - key_code: escape
    - key_code: b
    parameters:
      basic.simultaneous_threshold_milliseconds: 300
    conditions:
    - type: frontmost_application_if
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$

# -----------------------o to right option + right arrow--------------------- #
  - type: basic
    from:
      key_code: o
      modifiers:
        optional:
        - any
    to:
    - key_code: right_arrow
      modifiers:
      - left_option
    conditions:
    - type: frontmost_application_unless
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: o
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: right_arrow
      modifiers:
      - left_option
    parameters:
      basic.simultaneous_threshold_milliseconds: 300
    conditions:
    - type: frontmost_application_unless
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$

  - type: basic
    from:
      key_code: o
      modifiers:
        optional:
        - any
    to:
    - key_code: escape
    - key_code: f
    conditions:
    - type: frontmost_application_if
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: o
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - key_code: escape
    - key_code: f
    parameters:
      basic.simultaneous_threshold_milliseconds: 300
    conditions:
    - type: frontmost_application_if
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$

# -----------------------spacebar + y to right control + a--------------------- #
  - type: basic
    from:
      key_code: y
      modifiers:
        optional:
        - any
    to:
    - key_code: a
      modifiers:
      - right_control
    conditions:
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: y
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: a
      modifiers:
      - right_control
    parameters:
      basic.simultaneous_threshold_milliseconds: 300

#  -----------------------open bracket to right control + e--------------------- #
  - type: basic
    from:
      key_code: open_bracket
      modifiers:
        optional:
        - any
    to:
    - key_code: e
      modifiers:
      - right_control
    conditions:
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: open_bracket
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: e
      modifiers:
      - right_control
    parameters:
      basic.simultaneous_threshold_milliseconds: 300

# _-----------------------u to left command + left arrow-----------------------  #
  - type: basic
    from:
      key_code: u
      modifiers:
        optional:
        - any
    to:
    - key_code: left_arrow
      modifiers:
      - left_command
    conditions:
    - type: frontmost_application_unless
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: u
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: left_arrow
      modifiers:
      - left_command
    parameters:
      basic.simultaneous_threshold_milliseconds: 300
    conditions:
    - type: frontmost_application_unless
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$

  - type: basic
    from:
      key_code: u
      modifiers:
        optional:
        - any
    to:
    - key_code: escape
    - key_code: b
      modifiers:
      - right_control
    conditions:
    - type: frontmost_application_if
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: u
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - key_code: escape
    - key_code: b
      modifiers:
      - right_control
    parameters:
      basic.simultaneous_threshold_milliseconds: 300
    conditions:
    - type: frontmost_application_if
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$

# -----------------------p to left command + right arrow--------------------- #
  - type: basic
    from:
      key_code: p
      modifiers:
        optional:
        - any
    to:
    - key_code: right_arrow
      modifiers:
      - left_command
    conditions:
    - type: frontmost_application_unless
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: p
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: right_arrow
      modifiers:
      - left_command
    parameters:
      basic.simultaneous_threshold_milliseconds: 300
    conditions:
    - type: frontmost_application_unless
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$

  - type: basic
    from:
      key_code: p
      modifiers:
        optional:
        - any
    to:
    - key_code: escape
    - key_code: f
      modifiers:
      - right_control
    conditions:
    - type: frontmost_application_if
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: p
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - key_code: escape
    - key_code: f
      modifiers:
      - right_control
    parameters:
      basic.simultaneous_threshold_milliseconds: 300
    conditions:
    - type: frontmost_application_if
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$

# -------------------------spacebar + n to home----------------------- #
  - type: basic
    from:
      key_code: n
      modifiers:
        optional:
        - any
    to:
    - key_code: home
      modifiers: []
    conditions:
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: n
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: home
      modifiers: []
    parameters:
      basic.simultaneous_threshold_milliseconds: 300

# -------------------------spacebar + m to page up----------------------- #
  - type: basic
    from:
      key_code: m
      modifiers:
        optional:
        - any
    to:
    - key_code: page_up
      modifiers: []
    conditions:
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1
  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: m
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: page_up
      modifiers: []
    parameters:
      basic.simultaneous_threshold_milliseconds: 300

# -------------------------spacebar + comma to page down----------------------- #
  - type: basic
    from:
      key_code: comma
      modifiers:
        optional:
        - any
    to:
    - key_code: page_down
      modifiers: []
    conditions:
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: comma
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: page_down
      modifiers: []
    parameters:
      basic.simultaneous_threshold_milliseconds: 300

# -------------------------spacebar + period to end----------------------- #
  - type: basic
    from:
      key_code: period
      modifiers:
        optional:
        - any
    to:
    - key_code: end
      modifiers: []
    conditions:
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: period
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: end
      modifiers: []
    parameters:
      basic.simultaneous_threshold_milliseconds: 300

# -------------------------spacebar + d to delete or backspace----------------------- #
  - type: basic
    from:
      key_code: d
      modifiers:
        optional:
        - any
    to:
    - key_code: delete_or_backspace
      modifiers: []
    conditions:
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: d
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: delete_or_backspace
      modifiers: []
    parameters:
      basic.simultaneous_threshold_milliseconds: 300

# -------------------------spacebar + f to delete forward----------------------- #
  - type: basic
    from:
      key_code: f
      modifiers:
        optional:
        - any
    to:
    - key_code: delete_forward
      modifiers: []
    conditions:
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1
  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: f
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: delete_forward
      modifiers: []
    parameters:
      basic.simultaneous_threshold_milliseconds: 300

# -------------------------spacebar + e to left_option + delete or backspace----------------------- #
  - type: basic
    from:
      key_code: e
      modifiers:
        optional:
        - any
    to:
    - key_code: delete_or_backspace
      modifiers:
      - left_option
    conditions:
    - type: frontmost_application_unless
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: e
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: delete_or_backspace
      modifiers:
      - left_option
    parameters:
      basic.simultaneous_threshold_milliseconds: 300
    conditions:
    - type: frontmost_application_unless
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$

  - type: basic
    from:
      key_code: e
      modifiers:
        optional:
        - any
    to:
    - key_code: escape
    - key_code: delete_or_backspace
    conditions:
    - type: frontmost_application_if
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: e
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - key_code: escape
    - key_code: delete_or_backspace
    parameters:
      basic.simultaneous_threshold_milliseconds: 300
    conditions:
    - type: frontmost_application_if
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$

# -------------------------spacebar + r to left_option + delete forward----------------------- #
  - type: basic
    from:
      key_code: r
      modifiers:
        optional:
        - any
    to:
    - key_code: delete_forward
      modifiers:
      - left_option
    conditions:
    - type: frontmost_application_unless
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: r
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: delete_forward
      modifiers:
      - left_option
    parameters:
      basic.simultaneous_threshold_milliseconds: 300
    conditions:
    - type: frontmost_application_unless
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$

  - type: basic
    from:
      key_code: r
      modifiers:
        optional:
        - any
    to:
    - key_code: escape
    - key_code: d
    conditions:
    - type: frontmost_application_if
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: r
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - key_code: escape
    - key_code: d
    parameters:
      basic.simultaneous_threshold_milliseconds: 300
    conditions:
    - type: frontmost_application_if
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$

# -----------------------spacebar + s to delete to line start--------------------- #
  - type: basic
    from:
      key_code: s
      modifiers:
        optional:
        - any
    to:
    - key_code: a
      modifiers:
      - right_control
      - right_shift
    - key_code: k
      modifiers:
      - left_control
    conditions:
    - type: frontmost_application_unless
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: s
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: a
      modifiers:
      - right_control
      - right_shift
    - key_code: k
      modifiers:
      - left_control
    parameters:
      basic.simultaneous_threshold_milliseconds: 300
    conditions:
    - type: frontmost_application_unless
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$

  - type: basic
    from:
      key_code: s
      modifiers:
        optional:
        - any
    to:
    - key_code: u
      modifiers:
      - left_control
    conditions:
    - type: frontmost_application_if
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: s
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - key_code: u
      modifiers:
      - left_control
    parameters:
      basic.simultaneous_threshold_milliseconds: 300
    conditions:
    - type: frontmost_application_if
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$

# -----------------------spacebar + g to left control + k--------------------- #
  - type: basic
    from:
      key_code: g
      modifiers:
        optional:
        - any
    to:
    - key_code: k
      modifiers:
      - left_control
    conditions:
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: g
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: k
      modifiers:
      - left_control
    parameters:
      basic.simultaneous_threshold_milliseconds: 300

# -----------------------spacebar + w to left command + delete or backspace--------------------- #
  - type: basic
    from:
      key_code: w
      modifiers:
        optional:
        - any
    to:
    - key_code: delete_or_backspace
      modifiers:
      - left_command
    conditions:
    - type: frontmost_application_unless
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: w
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: delete_or_backspace
      modifiers:
      - left_command
    parameters:
      basic.simultaneous_threshold_milliseconds: 300
    conditions:
    - type: frontmost_application_unless
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$

  - type: basic
    from:
      key_code: w
      modifiers:
        optional:
        - any
    to:
    - key_code: w
      modifiers:
      - left_control
    conditions:
    - type: frontmost_application_if
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: w
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - key_code: w
      modifiers:
      - left_control
    parameters:
      basic.simultaneous_threshold_milliseconds: 300
    conditions:
    - type: frontmost_application_if
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$

# -----------------------spacebar + t to delete to line end--------------------- #
  - type: basic
    from:
      key_code: t
      modifiers:
        optional:
        - any
    to:
    - key_code: right_arrow
      modifiers:
      - left_command
      - left_shift
    - key_code: delete_forward
    conditions:
    - type: frontmost_application_unless
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: t
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: right_arrow
      modifiers:
      - left_command
      - left_shift
    - key_code: delete_forward
    parameters:
      basic.simultaneous_threshold_milliseconds: 300
    conditions:
    - type: frontmost_application_unless
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$

  - type: basic
    from:
      key_code: t
      modifiers:
        optional:
        - any
    to:
    - key_code: escape
    - key_code: d
      modifiers:
      - left_control
    conditions:
    - type: frontmost_application_if
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: t
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - key_code: escape
    - key_code: d
      modifiers:
      - left_control
    parameters:
      basic.simultaneous_threshold_milliseconds: 300
    conditions:
    - type: frontmost_application_if
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$

# -----------------------spacebar + z to escape--------------------- #
  - type: basic
    from:
      key_code: z
      modifiers:
        optional:
        - any
    to:
    - key_code: escape
      modifiers: []
    conditions:
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: z
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: escape
      modifiers: []
    parameters:
      basic.simultaneous_threshold_milliseconds: 300

# -----------------------spacebar + x to left command + up arrow--------------------- #
  - type: basic
    from:
      key_code: x
      modifiers:
        optional:
        - any
    to:
    - key_code: up_arrow
      modifiers:
      - left_command
    conditions:
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: x
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: up_arrow
      modifiers:
      - left_command
    parameters:
      basic.simultaneous_threshold_milliseconds: 300

# -----------------------spacebar + c to left command + down arrow--------------------- #
  - type: basic
    from:
      key_code: c
      modifiers:
        optional:
        - any
    to:
    - key_code: down_arrow
      modifiers:
      - left_command
    conditions:
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: c
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: down_arrow
      modifiers:
      - left_command
    parameters:
      basic.simultaneous_threshold_milliseconds: 300

# -----------------------spacebar + v to return or enter--------------------- #
  # - type: basic
  #   from:
  #     key_code: v
  #     modifiers:
  #       optional:
  #       - any
  #   to:
  #   - key_code: return_or_enter
  #     modifiers: []
  #   conditions:
  #   - type: variable_if
  #     name: ergo_fly_keys_spacebar
  #     value: 1
  # - type: basic
  #   from:
  #     simultaneous:
  #     - key_code: spacebar
  #     - key_code: v
  #     simultaneous_options:
  #       key_down_order: strict
  #       key_up_order: strict_inverse
  #       detect_key_down_uninterruptedly: true
  #       to_after_key_up:
  #       - set_variable:
  #           name: ergo_fly_keys_spacebar
  #           value: 0
  #     modifiers:
  #       optional:
  #       - any
  #   to:
  #   - set_variable:
  #       name: ergo_fly_keys_spacebar
  #       value: 1
  #   - set_variable:
  #       name: DEBUG simultaneous
  #       value: 1
  #   - key_code: return_or_enter
  #     modifiers: []
  #   parameters:
  #     basic.simultaneous_threshold_milliseconds: 300

# -----------------------spacebar + q to left option + up arrow--------------------- #
  - type: basic
    from:
      key_code: q
      modifiers:
        optional:
        - any
    to:
    - key_code: up_arrow
      modifiers:
      - left_option
    conditions:
    - type: frontmost_application_unless
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: q
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: up_arrow
      modifiers:
      - left_option
    parameters:
      basic.simultaneous_threshold_milliseconds: 300
    conditions:
    - type: frontmost_application_unless
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$

  - type: basic
    from:
      key_code: q
      modifiers:
        optional:
        - any
    to:
    - key_code: escape
    - key_code: comma
      modifiers:
      - left_shift
    conditions:
    - type: frontmost_application_if
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: q
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - key_code: escape
    - key_code: comma
      modifiers:
      - left_shift
    parameters:
      basic.simultaneous_threshold_milliseconds: 300
    conditions:
    - type: frontmost_application_if
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$

# -----------------------spacebar + a to left option + down arrow--------------------- #
  - type: basic
    from:
      key_code: a
      modifiers:
        optional:
        - any
    to:
    - key_code: down_arrow
      modifiers:
      - left_option
    conditions:
    - type: frontmost_application_unless
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: a
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - key_code: down_arrow
      modifiers:
      - left_option
    parameters:
      basic.simultaneous_threshold_milliseconds: 300
    conditions:
    - type: frontmost_application_unless
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$

  - type: basic
    from:
      key_code: a
      modifiers:
        optional:
        - any
    to:
    - key_code: escape
    - key_code: period
      modifiers:
      - left_shift
    conditions:
    - type: frontmost_application_if
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: a
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - key_code: escape
    - key_code: period
      modifiers:
      - left_shift
    parameters:
      basic.simultaneous_threshold_milliseconds: 300
    conditions:
    - type: frontmost_application_if
      bundle_identifiers:
      - ^com\.apple\.Terminal$
      - ^com\.googlecode\.iterm2$
      - ^co\.zeit\.hyperterm$
      - ^co\.zeit\.hyper$
      - ^io\.alacritty$
      - ^net\.kovidgoyal\.kitty$

# -----------------------spacebar + spacebar to reset all variables--------------------- #
  - type: basic
    from:
      key_code: spacebar
      modifiers:
        optional:
        - any

    to:
    - set_variable:
        name: DEBUG simultaneous
        value: 0
    - set_variable:
        name: DEBUG trigger alone
        value: 0
    - set_variable:
        name: DEBUG trigger held down
        value: 0
    - set_variable:
        name: DEBUG trigger key up
        value: 0
    - set_variable:
        name: DEBUG trigger delay invoked
        value: 0
    - set_variable:
        name: DEBUG trigger delay canceled
        value: 0
    - set_variable:
        name: DEBUG halt
        value: 0

    to_if_alone:
    - set_variable:
        name: DEBUG trigger alone
        value: 1
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 0
    - set_variable:
        name: DEBUG halt
        value: 1
    - key_code: spacebar
      halt: true

    to_if_held_down:
    - set_variable:
        name: DEBUG trigger held down
        value: 1
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1

    to_after_key_up:
    - set_variable:
        name: DEBUG trigger key up
        value: 1
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 0
    - key_code: vk_none

    to_delayed_action:
      to_if_invoked:
      - set_variable:
          name: DEBUG trigger delay invoked
          value: 1
      to_if_canceled:
      - set_variable:
          name: DEBUG trigger delay canceled
          value: 1
      - set_variable:
          name: ergo_fly_keys_spacebar
          value: 0
      - set_variable:
          name: DEBUG halt
          value: 1
      - key_code: spacebar
    parameters:
      basic.to_if_alone_timeout_milliseconds: 300
      basic.to_delayed_action_delay_milliseconds: 0
      basic.to_if_held_down_threshold_milliseconds: 0

################################################################
#                       Mouse keys mode                        #
################################################################
- description: Mouse keys
  manipulators:

# ----------------spacebar + ` to mouse mode----------------- #
  - type: basic
    from:
      key_code: grave_accent_and_tilde
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: mouse_keys_full
        value: 1
    conditions:
    - type: variable_if
      name: ergo_fly_keys_spacebar
      value: 1
    - type: variable_if
      name: mouse_keys_full
      value: 0

  - type: basic
    from:
      simultaneous:
      - key_code: spacebar
      - key_code: grave_accent_and_tilde
      simultaneous_options:
        key_down_order: strict
        key_up_order: strict_inverse
        detect_key_down_uninterruptedly: true
        to_after_key_up:
        - set_variable:
            name: ergo_fly_keys_spacebar
            value: 0
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: ergo_fly_keys_spacebar
        value: 1
    - set_variable:
        name: DEBUG simultaneous
        value: 1
    - set_variable:
        name: mouse_keys_full
        value: 1
    parameters:
      basic.simultaneous_threshold_milliseconds: 100

# ---------------escape * 2 to exit mouse mode--------------- #
  - type: basic
    from:
      key_code: escape
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: escape_pressed
        value: 0
    - set_variable:
        name: mouse_keys_full
        value: 0
    conditions:
    - type: variable_if
      name: mouse_keys_full
      value: 1
    - type: variable_if
      name: escape_pressed
      value: 1

  - type: basic
    from:
      key_code: escape
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: escape_pressed
        value: 1
    to_delayed_action:
      to_if_invoked:
      - key_code: escape
        conditions:
        - type: variable_if
          name: escape_pressed
          value: 1
      - set_variable:
          name: escape_pressed
          value: 0
      to_if_canceled:
      - key_code: escape
        conditions:
        - type: variable_if
          name: escape_pressed
          value: 1
      - set_variable:
          name: escape_pressed
          value: 0

  - type: basic
    from:
      key_code: right_command
      modifiers:
        mandatory:
        - left_command
        optional:
        - any
    to:
    - key_code: right_command
    to_after_key_up:
    - set_variable:
        name: mouse_keys_full
        value: 0
    conditions:
    - type: variable_if
      name: mouse_keys_full
      value: 1

  - type: basic
    from:
      key_code: right_command
      modifiers:
        mandatory:
        - left_command
        optional:
        - any
    to:
    - key_code: right_command
    to_after_key_up:
    - set_variable:
        name: mouse_keys_full
        value: 1
    conditions:
    - type: variable_if
      name: mouse_keys_full
      value: 0

# ---------------h to mouse wheel left----------------- #
  - type: basic
    from:
      key_code: h
      modifiers:
        optional:
        - any
    to:
    - mouse_key:
        horizontal_wheel: 48
    conditions:
    - type: variable_if
      name: mouse_keys_full
      value: 1
    - type: variable_if
      name: mouse_keys_full_scroll
      value: 1

# ---------------j to mouse wheel down----------------- #
  - type: basic
    from:
      key_code: j
      modifiers:
        optional:
        - any
    to:
    - mouse_key:
        vertical_wheel: 48
    conditions:
    - type: variable_if
      name: mouse_keys_full
      value: 1
    - type: variable_if
      name: mouse_keys_full_scroll
      value: 1

# ---------------k to mouse wheel up----------------- #
  - type: basic
    from:
      key_code: k
      modifiers:
        optional:
        - any
    to:
    - mouse_key:
        vertical_wheel: -48
    conditions:
    - type: variable_if
      name: mouse_keys_full
      value: 1
    - type: variable_if
      name: mouse_keys_full_scroll
      value: 1

# ---------------l to mouse wheel right----------------- #
  - type: basic
    from:
      key_code: l
      modifiers:
        optional:
        - any
    to:
    - mouse_key:
        horizontal_wheel: -48
    conditions:
    - type: variable_if
      name: mouse_keys_full
      value: 1
    - type: variable_if
      name: mouse_keys_full_scroll
      value: 1

# -----------------------Mouse keys movement--------------------- #
  - type: basic
    from:
      key_code: h
      modifiers:
        optional:
        - any
    to:
    - mouse_key:
        x: -1600
    conditions:
    - type: variable_if
      name: mouse_keys_full
      value: 1

  - type: basic
    from:
      key_code: j
      modifiers:
        optional:
        - any
    to:
    - mouse_key:
        y: 1600
    conditions:
    - type: variable_if
      name: mouse_keys_full
      value: 1

  - type: basic
    from:
      key_code: k
      modifiers:
        optional:
        - any
    to:
    - mouse_key:
        y: -1600
    conditions:
    - type: variable_if
      name: mouse_keys_full
      value: 1

  - type: basic
    from:
      key_code: l
      modifiers:
        optional:
        - any
    to:
    - mouse_key:
        x: 1600
    conditions:
    - type: variable_if
      name: mouse_keys_full
      value: 1

  - type: basic
    from:
      key_code: u
      modifiers:
        optional:
        - any
    to:
    - software_function:
        set_mouse_cursor_position:
          x: 50%
          y: 50%
    conditions:
    - type: variable_if
      name: mouse_keys_full
      value: 1

  - type: basic
    from:
      key_code: i
      modifiers:
        optional:
        - any
    to:
    - software_function:
        set_mouse_cursor_position:
          x: 50%
          y: 50%
          screen: 0
    conditions:
    - type: variable_if
      name: mouse_keys_full
      value: 1

  - type: basic
    from:
      key_code: o
      modifiers:
        optional:
        - any
    to:
    - software_function:
        set_mouse_cursor_position:
          x: 50%
          y: 50%
          screen: 1
    conditions:
    - type: variable_if
      name: mouse_keys_full
      value: 1

  - type: basic
    from:
      key_code: p
      modifiers:
        optional:
        - any
    to:
    - software_function:
        set_mouse_cursor_position:
          x: 50%
          y: 50%
          screen: 2
    conditions:
    - type: variable_if
      name: mouse_keys_full
      value: 1

  - type: basic
    from:
      key_code: v
      modifiers:
        optional:
        - any
    to:
    - pointing_button: button1
    conditions:
    - type: variable_if
      name: mouse_keys_full
      value: 1

  - type: basic
    from:
      key_code: return_or_enter
      modifiers:
        optional:
        - any
    to:
    - pointing_button: button1
    conditions:
    - type: variable_if
      name: mouse_keys_full
      value: 1

  - type: basic
    from:
      key_code: b
      modifiers:
        optional:
        - any
    to:
    - pointing_button: button3
    conditions:
    - type: variable_if
      name: mouse_keys_full
      value: 1

  - type: basic
    from:
      key_code: n
      modifiers:
        optional:
        - any
    to:
    - pointing_button: button2
    conditions:
    - type: variable_if
      name: mouse_keys_full
      value: 1

  - type: basic
    from:
      key_code: g
      modifiers:
        optional:
        - any
    to:
    - mouse_key:
        speed_multiplier: 5
    conditions:
    - type: variable_if
      name: mouse_keys_full
      value: 1

  - type: basic
    from:
      key_code: f
      modifiers:
        optional:
        - any
    to:
    - mouse_key:
        speed_multiplier: 2.5
    conditions:
    - type: variable_if
      name: mouse_keys_full
      value: 1

  - type: basic
    from:
      key_code: d
      modifiers:
        optional:
        - any
    to:
    - mouse_key:
        speed_multiplier: 0.5
    conditions:
    - type: variable_if
      name: mouse_keys_full
      value: 1

  - type: basic
    from:
      key_code: s
      modifiers:
        optional:
        - any
    to:
    - set_variable:
        name: mouse_keys_full_scroll
        value: 1
    to_after_key_up:
    - set_variable:
        name: mouse_keys_full_scroll
        value: 0
    conditions:
    - type: variable_if
      name: mouse_keys_full
      value: 1
